/*
 * Copyright (c) Ascensio System SIA 2014. All rights reserved
 *
 * http://www.onlyoffice.com
 *
 * Version: 1.0 (build:1)
 */
if(Common===undefined)var Common={};Common.Gateway=new function(){var e=this,t=$(e),n={init:function(e){t.trigger("init",e)},openDocument:function(e){t.trigger("opendocument",e)},showMessage:function(e){t.trigger("showmessage",e)},applyEditRights:function(e){t.trigger("applyeditrights",e)},processSaveResult:function(e){t.trigger("processsaveresult",e)},processRightsChange:function(e){t.trigger("processrightschange",e)},processMouse:function(e){t.trigger("processmouse",e)},internalCommand:function(e){t.trigger("internalcommand",e)},resetFocus:function(e){t.trigger("resetfocus",e)}},r=function(e){window.parent&&window.JSON&&window.parent.postMessage(window.JSON.stringify(e),"*")},i=function(e){var t=e.data;if(Object.prototype.toString.apply(t)!=="[object String]"||!window.JSON)return;var r,i;try{r=window.JSON.parse(t)}catch(s){r=""}r&&(i=n[r.command],i&&i.call(this,r.data))},s=function(e){i(e)};return window.attachEvent?window.attachEvent("onmessage",s):window.addEventListener("message",s,!1),{ready:function(){r({event:"onReady"})},goBack:function(){r({event:"onBack"})},save:function(e){r({event:"onSave",data:e})},requestEditRights:function(){r({event:"onRequestEditRights"})},reportError:function(e,t){r({event:"onError",data:{errorCode:e,errorDescription:t}})},setDocumentModified:function(e){r({event:"onDocumentStateChange",data:e})},internalMessage:function(e,t){r({event:"onInternalMessage",data:{type:e,data:t}})},on:function(n,r){var i=function(t,n){r.call(e,n)};t.on(n,i)}}};if(Common===undefined)var Common={};Common.component=Common.component||{},Common.Analytics=Common.component.Analytics=new function(){var e;return{initialize:function(t,n){if(typeof t=="undefined")throw"Analytics: invalid id.";if(typeof n=="undefined"||Object.prototype.toString.apply(n)!=="[object String]")throw"Analytics: invalid category type.";e=n,$("head").append('<script type="text/javascript">var _gaq = _gaq || [];_gaq.push(["_setAccount", "'+t+'"]);'+'_gaq.push(["_trackPageview"]);'+"(function() {"+'var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;'+'ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";'+'var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);'+"})();"+"</script>")},trackEvent:function(t,n,r){if(typeof t!="undefined"&&Object.prototype.toString.apply(t)!=="[object String]")throw"Analytics: invalid action type.";if(typeof n!="undefined"&&Object.prototype.toString.apply(n)!=="[object String]")throw"Analytics: invalid label type.";if(typeof r!="undefined"&&(Object.prototype.toString.apply(r)!=="[object Number]"||!isFinite(r)))throw"Analytics: invalid value type.";if(typeof _gaq=="undefined")return;if(e==="undefined")throw"Analytics is not initialized.";_gaq.push(["_trackEvent",e,t,n,r])}}},Ext.Loader.setConfig({enabled:!0,disableCaching:!1,paths:{Common:"../../common/mobile/lib"}}),Ext.define("Common.component.PlanarSpinner",{extend:"Ext.field.Spinner",xtype:"planarspinnerfield",config:{},constructor:function(){var e=this;e.callParent(arguments),e.addCls("planar-spinner")},updateComponent:function(e){this.callParent(arguments);var t=this.innerElement,n=this.getCls();e&&(this.spinDownButton=Ext.widget("button",{cls:"x-button x-button-base "+n+"-button "+n+"-button-down",iconCls:"spinner-down"}),this.spinUpButton=Ext.widget("button",{cls:"x-button x-button-base "+n+"-button "+n+"-button-up",iconCls:"spinner-up"}),this.downRepeater=this.createRepeater(this.spinDownButton.element,this.onSpinDown),this.upRepeater=this.createRepeater(this.spinUpButton.element,this.onSpinUp))},updateGroupButtons:function(e,t){var n=this,r=n.innerElement,i=n.getBaseCls()+"-grouped-buttons";n.getComponent(),e!=t&&(e?(this.addCls(i),r.insertFirst(n.spinDownButton.element),r.appendChild(n.spinUpButton.element)):(this.removeCls(i),r.insertFirst(n.spinDownButton.element),r.appendChild(n.spinUpButton.element)))}}),Ext.define("Common.component.RepeatableButton",{extend:"Ext.Button",xtype:"repeatablebutton",requires:["Ext.util.TapRepeater"],initialize:function(){this.callParent(arguments),this.repeater=this.createRepeater(this.element,this.onRepeatTap)},destroy:function(){var e=this;Ext.destroy(e.repeater),e.callParent(arguments)},createRepeater:function(e,t){var n=this,r=Ext.create("Ext.util.TapRepeater",{el:e,accelerate:!0,delay:500});return r.on({tap:t,touchstart:"onTouchStart",touchend:"onTouchEnd",scope:n}),r},onRepeatTap:function(e){this.fireAction("tap",[this,e,!0],"doTap")},doTap:function(e,t,n){if(!Ext.isBoolean(n)||!n)return!1;this.callParent(arguments)},onTouchStart:function(e){this.getDisabled()||this.element.addCls(Ext.baseCSSPrefix+"button-pressing")},onTouchEnd:function(e){this.element.removeCls(Ext.baseCSSPrefix+"button-pressing")}}),Ext.define("Common.component.SettingsList",{extend:"Ext.List",alias:"widget.settingslist",config:{disableSelection:!0,pinHeaders:!1,grouped:!0,cls:"settings",ui:"round",itemTpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<tpl if="this.hasIcon(icon)">','<span class="list-icon {icon}"></span>',"</tpl>",'<tpl if="this.hasIcon(icon)">','<strong class="icon-offset">{setting}</strong>',"<tpl else>","<strong>{setting}</strong>","</tpl>",'<tpl if="this.hasChild(child)">','<span class="list-icon disclosure"></span>',"</tpl>","</tpl>",{hasIcon:function(e){return!Ext.isEmpty(e)},hasChild:function(e){return!Ext.isEmpty(e)}})},findGroupHeaderIndices:function(){var e=this,t=e.getStore(),n=t.getCount(),r=t.getGroups(),i=r.length,s=e.headerIndices={},o=e.footerIndices={},u,a,f,l;e.groups=r;for(u=0;u<i;u++)f=r[u].children[0],l=t.indexOf(f),s[l]=!0,a=l-1,a>=0&&(o[a]=!0);return o[n-1]=!0,s}}),Ext.define("Common.model.SettingItem",{extend:"Ext.data.Model",config:{fields:["id","setting","icon","child","group"]}}),Ext.define("Common.store.SettingsList",{extend:"Ext.data.Store",config:{model:"Common.model.SettingItem",grouper:{groupFn:function(e){return e.get("group")},sorterFn:function(){return 0}}}}),Ext.define("Common.view.PopoverPanel",{extend:"Ext.Panel",alias:"widget.commonpopoverpanel",config:{showAnimation:{type:"fadeIn",duration:100},hideAnimation:{type:"fadeOut",duration:100},modal:{cls:"transparent"}}}),Ext.define("Common.view.PopClip",{extend:"Ext.Container",alias:"widget.popclip",requires:["Ext.Panel","Ext.SegmentedButton"],config:{style:"position: absolute; z-index: 9090; background-color: transparent; width: 2px; height: 2px;"},initialize:function(){var e=this;e.popClipCmp=e.add({xtype:"panel",layout:"fit",ui:"settings",style:"padding: 1px;",hidden:!0,items:[{xtype:"container",items:[{xtype:"segmentedbutton",style:"margin: 0",ui:"base",allowToggle:!1,items:[{id:"id-btn-popclip-cut",ui:"base",style:"font-size: 0.7em; border: 0; box-shadow: none;",cls:"text-offset-12",text:this.cutButtonText},{id:"id-btn-popclip-copy",ui:"base",style:"font-size: 0.7em; border: 0; box-shadow: none;",cls:"text-offset-12",text:this.copyButtonText},{id:"id-btn-popclip-paste",ui:"base",style:"font-size: 0.7em; border: 0; box-shadow: none;",cls:"text-offset-12",text:this.pasteButtonText}]}]}]}),this.callParent(arguments)},show:function(e){if(Ext.isDefined(this.isAnim))return;this.callParent(arguments);var t=this.popClipCmp;t.showBy(this,"bc-tc?"),t.hide(),t.show(),t.alignTo(this,"bc-tc?"),this.isAnim=!0,Ext.Anim.run(t,"pop",{out:!1,duration:250,easing:"ease-out",autoClear:!1}),t.element.on("transitionend",function(){Ext.isDefined(this.isAnim)&&delete this.isAnim},this,{single:!0})},hide:function(e){var t=this,n=function(e){Ext.isDefined(t.isAnim)?Ext.defer(n,50,t,e):(Ext.bind(t.callParent,t,e),t.popClipCmp.hide())};n(arguments)},cutButtonText:"Cut",copyButtonText:"Copy",pasteButtonText:"Paste"}),Ext.define("Common.controller.PopClip",{extend:"Ext.app.Controller",config:{refs:{popClip:"popclip",cutButton:"#id-btn-popclip-cut",copyButton:"#id-btn-popclip-copy",pasteButton:"#id-btn-popclip-paste"},control:{cutButton:{tap:"onTapCutButton"},copyButton:{tap:"onTapCopyButton"},pasteButton:{tap:"onTapPasteButton"}}},init:function(){},launch:function(){},setApi:function(e){this.api=e},setMode:function(e){var t=this.getCutButton(),n=this.getCopyButton(),r=this.getPasteButton(),i=this.getPopClip();e==="view"?(t&&t.hide(),r&&r.hide(),i&&i.hide()):(t&&t.show(),r&&r.show(),i&&i.hide())},onTapCutButton:function(){this.api&&this.api.Cut();var e=this.getPopClip();e&&e.hide()},onTapCopyButton:function(){this.api&&this.api.Copy();var e=this.getPopClip();e&&e.hide()},onTapPasteButton:function(){this.api&&this.api.Paste();var e=this.getPopClip();e&&e.hide()}}),Ext.define("DE.plugin.Pinchemu",{extend:"Ext.Component",alias:"plugin.pinchemu",config:{helpers:!0},init:function(e){var t=this;t.touchHelpers=[],t.touchHelpers[0]=Ext.create("Ext.Button",{top:0,left:0,style:"opacity: 0.6;",iconMask:!0,round:!0,hidden:!0}),t.touchHelpers[1]=Ext.create("Ext.Button",{top:0,left:0,style:"opacity: 0.6;",iconMask:!0,round:!0,hidden:!0}),Ext.Viewport.add(t.touchHelpers[0]),Ext.Viewport.add(t.touchHelpers[1]),t.cmp=e,t.cmp.on({scope:t,painted:t.initPinchsim})},initPinchsim:function(){var e=this;this.pinchStarted=!1;var t=e.cmp;t.pinchSimEnabled||(t.rendered?e.initHandlers(t):t.on({painted:e.initHandlers}))},initHandlers:function(e){var t=this;e.element.on({scope:t,touchstart:function(n){(n.event.ctrlKey||n.event.shiftKey)&&t.pinchStarted===!1&&(t.pinchStarted=!0,n.event.ctrlKey?(t.zoomStart=100,t.zoomDirection=1):n.event.shiftKey&&(t.zoomStart=340,t.zoomDirection=-1),t.zoomFactor=1,t.onTouchStart(e,n))},touchend:function(n){t.pinchStarted&&(t.pinchStarted=!1,t.onTouchEnd(e,n))},touchcancel:function(n){t.pinchStarted&&(t.pinchStarted=!1,t.onTouchEnd(e,n))},touchmove:function(n){(n.event.ctrlKey||n.event.shiftKey)&&this.pinchStarted===!0?t.onTouchMove(e,n):t.pinchStarted&&(t.pinchStarted=!1,t.onTouchEnd(e,n))}}),e.pinchSimEnabled=!0},showHelpers:function(e){var t=e.touches;typeof t=="object"&&this.getHelpers()&&(this.moveHelpers(t),this.setHelpersArrows(e),this.touchHelpers[0].show(),this.touchHelpers[1].show())},setHelpersArrows:function(e){e.event.ctrlKey?(this.touchHelpers[0].setIconCls("arrow_right"),this.touchHelpers[1].setIconCls("arrow_left")):(this.touchHelpers[0].setIconCls("arrow_left"),this.touchHelpers[1].setIconCls("arrow_right"))},moveHelpers:function(e){this.touchHelpers[0].setTop(e[0].point.y),this.touchHelpers[0].setLeft(e[0].point.x),this.touchHelpers[1].setTop(e[1].point.y),this.touchHelpers[1].setLeft(e[1].point.x)},hideHelpers:function(){this.touchHelpers[0].hide(),this.touchHelpers[1].hide()},convertEvent:function(e){var t=this,n=Array.prototype.slice.call(e.touches);n||(n=t.lastTouches),e.touches=n;if(n.length>0){if(!t.touchStartPoint){var r=n[0].point.x,i=n[0].point.y,s=n[0].pageX,o=n[0].pageY;n[0].point.x=n[0].point.x+t.zoomStart/2,n[0].pageX=n[0].pageX+t.zoomStart/2,n[1]={},n[1].identifier=2,n[1].pageX=s-t.zoomStart/2,n[1].pageY=o,n[1].point=n[0].point.clone(),n[1].point.x=r-t.zoomStart/2,n[1].point.y=n[0].point.y,n[1].target=n[0].target,n[1].targets=n[0].targets,n[1].timeStamp=n[0].timeStamp,this.touchStartPoint={x:r,y:i,pageX:s,pageY:o,distance:n[0].point.getDistanceTo(n[1].point)}}else n[0].point=t.lastTouches[0].point.clone(),n[0].point.x=Ext.Number.constrain(t.lastTouches[0].point.x+t.zoomFactor*t.zoomDirection,t.touchStartPoint.x+t.zoomFactor),n[0].pageX=Ext.Number.constrain(t.lastTouches[0].pageX+t.zoomFactor*t.zoomDirection,t.touchStartPoint.x+t.zoomFactor),n[1]={},n[1].point=t.lastTouches[1].point.clone(),n[1].point.x=Ext.Number.constrain(t.lastTouches[1].point.x-t.zoomFactor*t.zoomDirection,t.touchStartPoint.x+t.zoomFactor),n[1].pageX=Ext.Number.constrain(t.lastTouches[1].pageX-t.zoomFactor*t.zoomDirection,t.touchStartPoint.x+t.zoomFactor),n[1].pageY=t.lastTouches[1].pageY,n[1].target=n[0].target,n[1].targets=n[0].targets,n[1].timeStamp=n[0].timeStamp;t.lastTouches=n}return e.scale=t.getNewScale(e),e},getNewScale:function(e){var t=this;if(e.touches.length>0){var n=e.touches[0].point.getDistanceTo(e.touches[1].point);return t.lastScale=n/t.touchStartPoint.distance,t.lastScale}return t.lastScale},onTouchStart:function(){this.lastScale=1;var e=this.convertEvent(arguments[1]);this.showHelpers(e)},onTouchMove:function(){var e=this.convertEvent(arguments[1]);this.lastTouches=Array.prototype.slice.call(e.touches),this.moveHelpers(e.touches)},onTouchEnd:function(){var e=this.convertEvent(arguments[1]);this.hideHelpers(),this.touchStartPoint=null,this.lastTouches=null,this.lastScale=null}}),Ext.define("DE.view.Main",{extend:"Ext.Container",initialize:function(){this.callParent(arguments)}}),Ext.define("DE.view.phone.toolbar.Search",{extend:"Ext.Toolbar",xtype:"searchtoolbar",requires:["Ext.field.Search"],config:{docked:"top",zIndex:10,minHeight:52,ui:"search"},initialize:function(){this.add([{xtype:"searchfield",id:"id-field-search",placeHolder:this.searchText,flex:1},{xtype:"segmentedbutton",allowToggle:!1,ui:"base",items:[{id:"id-btn-search-up",ui:"base",iconCls:"spinner-prev",disabled:!0},{id:"id-btn-search-down",ui:"base",iconCls:"spinner-next",disabled:!0}]}]),this.callParent(arguments)},searchText:"Search"}),Ext.define("DE.view.phone.toolbar.View",{extend:"Ext.Toolbar",xtype:"viewtoolbar",config:{docked:"top",zIndex:10,minHeight:44,ui:"edit"},initialize:function(){this.add([{id:"id-tb-btn-view-done",ui:"base-blue",cls:"text-offset-12",hidden:!0,text:this.doneText},{xtype:"spacer"},{id:"id-tb-btn-incfontsize",ui:"base",iconCls:"textbigger",hidden:!0},{id:"id-tb-btn-decfontsize",ui:"base",iconCls:"textless",hidden:!0},{id:"id-tb-btn-search",ui:"base",iconCls:"search"},{id:"id-tb-btn-fullscreen",ui:"base",iconCls:"fullscreen"},{xtype:"spacer"},{id:"id-tb-btn-view-share",ui:"base",iconCls:"share"}]),this.callParent(arguments)},doneText:"Done",readerText:"Reader"}),Ext.define("DE.view.phone.Main",{extend:"DE.view.Main",alias:"widget.dephonemain",requires:["DE.view.phone.toolbar.Search","DE.view.phone.toolbar.View"],config:{cls:"de-phone-main",fullscreen:!0,layout:{type:"vbox",pack:"center"}},initialize:function(){var e=this;this.add(Ext.create("DE.view.phone.toolbar.View",{hidden:!0})),this.add(Ext.create("DE.view.phone.toolbar.Search",{hidden:!0})),this.add({xtype:"container",layout:"vbox",id:"id-conteiner-document",flex:1,items:[{xtype:"container",flex:1,id:"id-sdkeditor",style:"z-index: 1"}]}),this.callParent(arguments)}}),Ext.define("DE.view.tablet.panel.Font",{extend:"Common.view.PopoverPanel",alias:"widget.fontpanel",requires:["Ext.NavigationView","Common.component.PlanarSpinner"],initialize:function(){var e=this;e.add({xtype:"navigationview",id:"id-font-navigate",autoDestroy:!1,cls:"plain",defaultBackButtonText:this.backText,navigationBar:{height:44,minHeight:44,hidden:!0,ui:"edit"},layout:{type:"card",animation:null},items:[{xtype:"container",layout:"hbox",height:31,id:"id-font-root",style:"background: transparent;",items:[{xtype:"button",id:"id-btn-fontname",ui:"base",style:"font-size: .7em;",text:this.fontNameText,width:185},{xtype:"spacer",width:7},{xtype:"planarspinnerfield",width:135,minValue:6,maxValue:100,stepValue:1,cycle:!1,component:{disabled:!1}},{xtype:"spacer",width:7},{xtype:"segmentedbutton",id:"id-toggle-baseline",ui:"base",cls:"divided",allowDepress:!0,items:[{id:"id-btn-baseline-up",ui:"base",iconCls:"superscript"},{id:"id-btn-baseline-down",ui:"base",iconCls:"subscript"}]}]}]}),e.add({xtype:"settingslist",hidden:!0,title:this.fontNameText,id:"id-font-name",disableSelection:!1,variableHeights:!1,store:Ext.create("Common.store.SettingsList",{})}),this.callParent(arguments)},fontNameText:"Font Name",backText:"Back"}),Ext.define("DE.view.tablet.panel.FontStyle",{extend:"Common.view.PopoverPanel",alias:"widget.fontstylepanel",requires:["Ext.SegmentedButton"],initialize:function(){var e=this;e.add({xtype:"container",layout:"hbox",items:[{xtype:"segmentedbutton",id:"id-toggle-fontstyles",ui:"base",cls:"divided",allowMultiple:!0,items:[{id:"id-btn-fontstyle-bold",ui:"base",iconCls:"bold"},{id:"id-btn-fontstyle-italic",ui:"base",iconCls:"italic"},{id:"id-btn-fontstyle-underline",ui:"base",iconCls:"underline"}]}]}),this.callParent(arguments)}}),Ext.define("DE.view.tablet.panel.Insert",{extend:"Common.view.PopoverPanel",alias:"widget.insertpanel",requires:["Ext.NavigationView","Common.component.PlanarSpinner"],initialize:function(){var e=this;e.add({xtype:"navigationview",id:"id-insert-navigate",autoDestroy:!1,defaultBackButtonText:this.backText,navigationBar:{height:44,minHeight:44,ui:"edit"},items:[{xtype:"settingslist",title:this.insertText,id:"id-insert-root",scrollable:{disabled:!0},store:Ext.create("Common.store.SettingsList",{data:[{setting:this.insertTableText,icon:"table",group:"table",child:"id-insert-table-container"},{setting:this.insertRowText,icon:"insert-row",group:"table",id:"id-insert-table-row"},{setting:this.insertColumnText,icon:"insert-column",group:"table",id:"id-insert-table-column"},{setting:this.insertPicture,icon:"picture",group:"image",child:"id-insert-picture-container"}]})}]}),e.add({xtype:"container",hidden:!0,title:this.tableText,id:"id-insert-table-container",padding:10,cls:"round",items:[{xtype:"planarspinnerfield",id:"id-spinner-table-columns",margin:"9",label:this.columnsText,labelWidth:"55%",minValue:2,maxValue:20,stepValue:1,cycle:!1},{xtype:"spacer",height:2},{xtype:"planarspinnerfield",id:"id-spinner-table-rows",margin:"9",label:this.rowsText,labelWidth:"55%",minValue:2,maxValue:20,stepValue:1,cycle:!1},{xtype:"container",padding:"5 5",items:[{xtype:"button",id:"id-btn-insert-table",ui:"light",cls:"border-radius-10",height:44,text:this.insertTableText}]}]}),e.add({xtype:"settingslist",title:this.pictureText,hidden:!0,id:"id-insert-picture-container",ui:"round",scrollable:{disabled:!0},store:Ext.create("Common.store.SettingsList",{data:[{setting:'<div class="btn-input-image" style="display: inline-block;" id="id-insert-picture-inline">'+this.pictureUploadInline+'<input style="height: 44px;" type="file" accept="image/*" capture="camera"></div>',group:"wrap"},{setting:'<div class="btn-input-image" style="display: inline-block;" id="id-insert-picture-float">'+this.pictureUploadFloat+'<input style="height: 44px;" type="file" accept="image/*" capture="camera"></div>',group:"wrap"}]})}),this.callParent(arguments)},backText:"Back",insertText:"Insert",insertTableText:"Insert Table",insertRowText:"Insert Row",insertColumnText:"Insert Column",insertPicture:"Insert Picture",tableText:"Table",columnsText:"Columns",rowsText:"Rows",pictureText:"Picture",pictureUploadInline:"Insert Inline",pictureUploadFloat:"Insert Float"}),Ext.define("DE.view.tablet.panel.ListStyle",{extend:"Common.view.PopoverPanel",alias:"widget.liststylepanel",requires:["Ext.NavigationView","Common.component.SettingsList"],initialize:function(){var e=this;e.add({xtype:"navigationview",id:"id-liststyle-navigate",autoDestroy:!1,defaultBackButtonText:this.backText,navigationBar:{height:44,minHeight:44,ui:"edit"},items:[{xtype:"settingslist",title:this.listStyleText,id:"id-liststyle-root",ui:"round",scrollable:{disabled:!0},store:Ext.create("Common.store.SettingsList",{data:[{setting:this.bulletsText,icon:"bullets",group:"markers",child:"id-liststyle-bullets"},{setting:this.numberingText,icon:"numbering",group:"markers",child:"id-liststyle-numbering"},{setting:this.outlineText,icon:"outline",group:"markers",child:"id-liststyle-outline"},{setting:this.incIndentText,icon:"indent-inc",group:"indent",id:"id-list-indent-increment"},{setting:this.decIndentText,icon:"indent-dec",group:"indent",id:"id-list-indent-decrement"}]})}]}),e.add({title:this.bulletsText,hidden:!0,id:"id-liststyle-bullets",xtype:"container",layout:"vbox",cls:"round",items:[{xtype:"dataview",flex:1,cls:"icon-view bullets",action:"style",style:"display: inline-block;",disableSelection:!0,scrollable:{disabled:!0},store:{field:["bullet","cls","type","subtype"],data:[{bullet:"none",type:0,subtype:-1,cls:"top-left"},{bullet:"bullet-0",type:0,subtype:1,cls:""},{bullet:"bullet-1",type:0,subtype:2,cls:""},{bullet:"bullet-2",type:0,subtype:3,cls:"top-right"},{bullet:"bullet-3",type:0,subtype:4,cls:"bottom-left"},{bullet:"bullet-4",type:0,subtype:5,cls:""},{bullet:"bullet-5",type:0,subtype:6,cls:""},{bullet:"bullet-6",type:0,subtype:7,cls:"bottom-right"}]},itemTpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="item-inner {cls}">',"<tpl if=\"bullet == 'none'\">",'<div class="text">'+e.noneText+"</div>","<tpl else>",'<div class="icon {bullet}">&nbsp;</div>',"</tpl>","</div>","</tpl>")}]}),e.add({title:this.numberingText,hidden:!0,id:"id-liststyle-numbering",xtype:"container",layout:"vbox",cls:"round",items:[{xtype:"dataview",flex:1,cls:"icon-view numbering",action:"style",style:"display: inline-block;",disableSelection:!0,scrollable:{disabled:!0},store:{field:["numbering","cls","type","subtype"],data:[{numbering:"none",type:1,subtype:-1,cls:"top-left"},{numbering:"numbering-0",type:1,subtype:4,cls:""},{numbering:"numbering-1",type:1,subtype:5,cls:""},{numbering:"numbering-2",type:1,subtype:6,cls:"top-right"},{numbering:"numbering-3",type:1,subtype:1,cls:"bottom-left"},{numbering:"numbering-4",type:1,subtype:2,cls:""},{numbering:"numbering-5",type:1,subtype:3,cls:""},{numbering:"numbering-6",type:1,subtype:7,cls:"bottom-right"}]},itemTpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="item-inner {cls}">',"<tpl if=\"numbering == 'none'\">",'<div class="text">'+e.noneText+"</div>","<tpl else>",'<div class="icon {numbering}">&nbsp;</div>',"</tpl>","</div>","</tpl>")}]}),e.add({title:this.outlineText,hidden:!0,id:"id-liststyle-outline",xtype:"container",layout:"vbox",cls:"round",items:[{xtype:"dataview",flex:1,cls:"icon-view outline",action:"style",style:"display: inline-block;",disableSelection:!0,scrollable:{disabled:!0},store:{field:["outline","cls","type","subtype"],data:[{outline:"none",type:2,subtype:-1,cls:"top-left bottom-left"},{outline:"outline-0",type:2,subtype:1,cls:""},{outline:"outline-1",type:2,subtype:2,cls:""},{outline:"outline-2",type:2,subtype:3,cls:"top-right bottom-right"}]},itemTpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="item-inner {cls}">',"<tpl if=\"outline == 'none'\">",'<div class="text">'+e.noneText+"</div>","<tpl else>",'<div class="icon {outline}">&nbsp;</div>',"</tpl>","</div>","</tpl>")}]}),this.callParent(arguments)},backText:"Back",listStyleText:"List Style",bulletsText:"Bullets",numberingText:"Numbering",outlineText:"Outline",incIndentText:"Increment indent",decIndentText:"Decrement Indent",noneText:"none"}),Ext.define("DE.view.tablet.panel.ParagraphAlignment",{extend:"Common.view.PopoverPanel",alias:"widget.paragraphalignmentpanel",initialize:function(){var e=this;e.add({xtype:"container",layout:"hbox",items:[{xtype:"segmentedbutton",id:"id-toggle-paragraphalignment",ui:"base",cls:"divided",items:[{id:"id-btn-paragraphalignment-left",ui:"base",iconCls:"align-left"},{id:"id-btn-paragraphalignment-center",ui:"base",iconCls:"align-center"},{id:"id-btn-paragraphalignment-right",ui:"base",iconCls:"align-right"},{id:"id-btn-paragraphalignment-fill",ui:"base",iconCls:"align-fill"}]}]}),this.callParent(arguments)}}),Ext.define("DE.view.tablet.panel.Spacing",{extend:"Common.view.PopoverPanel",alias:"widget.spacingpanel",requires:["Ext.NavigationView","Common.component.SettingsList"],initialize:function(){var e=this;e.add({xtype:"navigationview",id:"id-spacing-navigate",autoDestroy:!1,defaultBackButtonText:this.backText,navigationBar:{height:44,minHeight:44,ui:"edit"},items:[{xtype:"settingslist",title:this.spacingText,id:"id-spacing-root",ui:"round",scrollable:{disabled:!0},store:Ext.create("Common.store.SettingsList",{data:[{setting:this.lineSpacingText,icon:"spacing",group:"line",child:"id-spacing-linespacing"},{setting:this.incIndentText,icon:"indent-inc",group:"indent",id:"id-linespacing-increaseindent"},{setting:this.decIndentText,icon:"indent-dec",group:"indent",id:"id-linespacing-decrementindent"}]})}]}),e.add({title:this.spacingText,hidden:!0,id:"id-spacing-linespacing",xtype:"settingslist",disableSelection:!1,allowDeselect:!0,store:Ext.create("Common.store.SettingsList",{data:[{setting:"1.0",group:"spacing"},{setting:"1.15",group:"spacing"},{setting:"1.5",group:"spacing"},{setting:"2",group:"spacing"},{setting:"2.5",group:"spacing"},{setting:"3.0",group:"spacing"}]})}),this.callParent(arguments)},backText:"Back",spacingText:"Spacing",lineSpacingText:"Paragraph Line Spacing",incIndentText:"Increase Indent",decIndentText:"Decrement Indent"}),Ext.define("DE.view.tablet.panel.TextColor",{extend:"Common.view.PopoverPanel",alias:"widget.textcolorsettingspanel",requires:["Ext.NavigationView","Common.component.SettingsList"],initialize:function(){var e=this;e.add({xtype:"navigationview",id:"id-textcolor-navigate",autoDestroy:!1,defaultBackButtonText:this.backText,navigationBar:{height:44,minHeight:44,ui:"edit"},items:[{xtype:"settingslist",title:this.colorText,id:"id-textcolor-root",scrollable:{disabled:!0},store:Ext.create("Common.store.SettingsList",{data:[{setting:this.highlightColorText,icon:"highlightcolor",group:"color",child:"id-textcolor-highlight"},{setting:this.textColorText,icon:"textcolor",group:"color",child:"id-textcolor-text"}]})}]}),e.add({title:this.highlightColorText,hidden:!0,id:"id-textcolor-highlight",xtype:"container",layout:"vbox",cls:"round",items:[{xtype:"dataview",flex:1,cls:"color",style:"display: inline-block;",store:{field:["color"],data:[{color:"FFFF00"},{color:"00FF00"},{color:"00FFFF"},{color:"FF00FF"},{color:"0000FF"},{color:"FF0000"},{color:"00008B"},{color:"008B8B"},{color:"006400"},{color:"800080"},{color:"8B0000"},{color:"808000"},{color:"FFFFFF"},{color:"D3D3D3"},{color:"A9A9A9"},{color:"000000"}]},itemTpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="item-inner" style="background-color: #{color};"></div>',"</tpl>")},{xtype:"container",padding:"12 18",items:[{xtype:"button",id:"id-btn-highlight-none",ui:"light",cls:"border-radius-10",height:44,text:this.noFillText}]}]}),e.add({title:this.textColorText,hidden:!0,id:"id-textcolor-text",xtype:"container",layout:"vbox",cls:"round",items:[{xtype:"dataview",flex:1,cls:"color",style:"display: inline-block;",store:{field:["color"],data:[{color:"FFFFFF"},{color:"EBEBEB"},{color:"D6D6D6"},{color:"C0C0C0"},{color:"AAAAAA"},{color:"929292"},{color:"7A7A7A"},{color:"606060"},{color:"444444"},{color:"232323"},{color:"000000"},{color:"0C3649"},{color:"0E1957"},{color:"14003B"},{color:"2E013E"},{color:"3A051C"},{color:"580504"},{color:"561C04"},{color:"553403"},{color:"523E02"},{color:"646302"},{color:"4E5703"},{color:"263F0E"},{color:"144C64"},{color:"18297A"},{color:"1F0052"},{color:"440259"},{color:"530D2A"},{color:"7D0C08"},{color:"772907"},{color:"764A05"},{color:"745904"},{color:"8A8803"},{color:"6D780A"},{color:"395919"},{color:"216C8E"},{color:"253AA9"},{color:"310076"},{color:"60047C"},{color:"74153F"},{color:"AE1610"},{color:"A63D0E"},{color:"A3690B"},{color:"A27D09"},{color:"C0BF06"},{color:"98A811"},{color:"507C27"},{color:"2C8BB3"},{color:"314DD5"},{color:"3E0094"},{color:"7A069F"},{color:"941E51"},{color:"DA1E17"},{color:"D15014"},{color:"CE8611"},{color:"CC9F0E"},{color:"F0EF0A"},{color:"C0D41B"},{color:"689F34"},{color:"36A1D7"},{color:"3D55FE"},{color:"5301B3"},{color:"980ABD"},{color:"B2275F"},{color:"F83D26"},{color:"F86A1D"},{color:"F7AC16"},{color:"F7CA12"},{color:"FAFF44"},{color:"D6EF39"},{color:"79BE40"},{color:"41C5FB"},{color:"5581FD"},{color:"6800EB"},{color:"BD10F3"},{color:"DE337D"},{color:"F86056"},{color:"F8864D"},{color:"F8B544"},{color:"F8CD44"},{color:"FBFA6D"},{color:"E1F266"},{color:"97D65F"},{color:"6CD4FC"},{color:"81A3FE"},{color:"8D3BFD"},{color:"D145FE"},{color:"E76DA0"},{color:"FA8B84"},{color:"F9A67F"},{color:"F9C879"},{color:"FADA79"},{color:"FBFB96"},{color:"E8F590"},{color:"B2E08B"},{color:"9FE3FD"},{color:"AEC3FE"},{color:"B385FD"},{color:"E18BFF"},{color:"EFA2C1"},{color:"FBB4B0"},{color:"FBC5AC"},{color:"FBDAA9"},{color:"FBE6A9"},{color:"FCFDBA"},{color:"F0F9B8"},{color:"CDEAB5"},{color:"CFF0FE"},{color:"D6E2FE"},{color:"DAC7FE"},{color:"F0C7FE"},{color:"F6D2E1"},{color:"FCDAD9"},{color:"FDE2D7"},{color:"FDEDD5"},{color:"FDF2D5"},{color:"FDFDDD"},{color:"F7FBDB"},{color:"E0EED4"}]},itemTpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="item-inner" style="background-color: #{color};"></div>',"</tpl>")}]}),this.callParent(arguments)},backText:"Back",colorText:"Color",highlightColorText:"Highlight color",textColorText:"Text color",noFillText:"No Fill"}),Ext.define("DE.view.tablet.toolbar.Edit",{extend:"Ext.Toolbar",xtype:"edittoolbar",requires:["Common.component.RepeatableButton"],config:{docked:"top",zIndex:5,minHeight:44,ui:"edit"},initialize:function(){var e=this;this.add([{xtype:"toolbar",minHeight:40,flex:1,style:"margin: 0; padding: 0;",items:[{id:"id-tb-btn-done",ui:"base-blue",cls:"text-offset-12",text:this.doneText},{id:"id-tb-btn-save",ui:"base",iconCls:"save"}]},{xtype:"repeatablebutton",id:"id-tb-btn-undo",disabled:!0,ui:"base",iconCls:"undo"},{xtype:"spacer",width:30},{id:"id-tb-btn-font",ui:"base",cls:"text-offset-30",text:this.fontText},{id:"id-tb-btn-style",ui:"base",iconCls:"font-style"},{id:"id-tb-btn-color",ui:"base",iconCls:"font-color"},{xtype:"spacer",width:30},{id:"id-tb-btn-align",ui:"base",iconCls:"align-left"},{id:"id-tb-btn-liststyle",ui:"base",iconCls:"bullets"},{id:"id-tb-btn-paragraph",ui:"base",iconCls:"spacing"},{xtype:"spacer",width:30},{id:"id-tb-btn-table",ui:"base",iconCls:"insert"},{xtype:"toolbar",minHeight:40,flex:1,style:"margin: 0; padding: 0;",layout:{type:"hbox",pack:"end"},items:[{id:"id-tb-btn-share",ui:"base",iconCls:"share"}]}]),this.add({xtype:"fontpanel",layout:"fit",ui:"settings",width:440,height:46,id:"id-panel-font",top:0,left:0,hidden:!0,hideOnMaskTap:!0}),this.add({xtype:"fontstylepanel",layout:"fit",ui:"settings",width:154,height:45,id:"id-panel-font-style",top:0,left:0,hidden:!0,hideOnMaskTap:!0}),this.add({xtype:"textcolorsettingspanel",layout:"fit",ui:"settings",width:350,height:172,id:"id-panel-text-color",top:0,left:0,hidden:!0,hideOnMaskTap:!0}),this.add({xtype:"paragraphalignmentpanel",layout:"fit",ui:"settings",width:205,height:45,id:"id-panel-paragraph-alignment",top:0,left:0,hidden:!0,hideOnMaskTap:!0}),this.add({xtype:"liststylepanel",layout:"fit",ui:"settings",width:337,height:328,id:"id-panel-liststyle",top:0,left:0,hidden:!0,hideOnMaskTap:!0}),this.add({xtype:"spacingpanel",layout:"fit",ui:"settings",width:350,height:235,id:"id-panel-spacing",top:0,left:0,hidden:!0,hideOnMaskTap:!0}),this.add({xtype:"insertpanel",layout:"fit",ui:"settings",width:350,height:283,id:"id-panel-insert",top:0,left:0,hidden:!0,hideOnMaskTap:!0}),this.callParent(arguments)},doneText:"Done",fontText:"Font"}),Ext.define("DE.view.tablet.toolbar.Search",{extend:"Ext.Toolbar",xtype:"searchtoolbar",requires:["Ext.Label","Ext.field.Search"],config:{docked:"top",zIndex:10,minHeight:52,ui:"search"},initialize:function(){this.add([{xtype:"searchfield",id:"id-field-search",placeHolder:this.searchText,flex:1},{xtype:"segmentedbutton",allowToggle:!1,ui:"base",items:[{id:"id-btn-search-up",ui:"base",iconCls:"spinner-prev",disabled:!0},{id:"id-btn-search-down",ui:"base",iconCls:"spinner-next",disabled:!0}]}]),this.callParent(arguments)},searchText:"Search"}),Ext.define("DE.view.tablet.toolbar.View",{extend:"Ext.Toolbar",xtype:"viewtoolbar",config:{docked:"top",zIndex:10,minHeight:44,ui:"edit"},initialize:function(){this.add([{xtype:"toolbar",minHeight:40,flex:1,style:"margin: 0; padding: 0;",items:[{id:"id-tb-btn-view-done",ui:"base-blue",cls:"text-offset-12",hidden:!0,text:this.doneText},{id:"id-tb-btn-editmode",ui:"base",cls:"text-offset-12",text:this.editText},{id:"id-tb-btn-readable",ui:"base",cls:"text-offset-12",text:this.readerText}]},{id:"id-tb-btn-search",ui:"base",iconCls:"search"},{id:"id-tb-btn-incfontsize",ui:"base",iconCls:"textbigger",hidden:!0},{id:"id-tb-btn-decfontsize",ui:"base",iconCls:"textless",hidden:!0},{id:"id-tb-btn-fullscreen",ui:"base",iconCls:"fullscreen"},{xtype:"toolbar",minHeight:40,style:"margin: 0; padding: 0;",layout:{type:"hbox",pack:"end"},flex:1,items:[{id:"id-tb-btn-view-share",ui:"base",iconCls:"share"}]}]),this.callParent(arguments)},doneText:"Done",editText:"Edit",readerText:"Reader"}),Ext.define("DE.view.tablet.Main",{extend:"DE.view.Main",alias:"widget.detabletmain",requires:["Common.view.PopClip","DE.view.tablet.panel.FontStyle","DE.view.tablet.panel.Insert","DE.view.tablet.panel.ListStyle","DE.view.tablet.panel.ParagraphAlignment","DE.view.tablet.panel.Spacing","DE.view.tablet.panel.TextColor","DE.view.tablet.toolbar.Edit","DE.view.tablet.toolbar.Search","DE.view.tablet.toolbar.View"],config:{cls:"de-tablet-main",fullscreen:!0,layout:{type:"vbox",pack:"center"}},initialize:function(){var e=this;this.add(Ext.create("DE.view.tablet.toolbar.Edit",{hidden:!0})),this.add(Ext.create("DE.view.tablet.toolbar.View",{hidden:!0})),this.add(Ext.create("DE.view.tablet.toolbar.Search",{hidden:!0})),this.add({xtype:"container",layout:"vbox",id:"id-conteiner-document",flex:1,items:[{xtype:"container",flex:1,id:"id-sdkeditor"}]}),this.add({xtype:"popclip",hidden:!0}),this.callParent(arguments)}}),Ext.define("DE.controller.Main",{extend:"Ext.app.Controller",editMode:!1,requires:["Ext.Anim","Ext.LoadMask","Ext.MessageBox"],launch:function(){if(!this._isSupport()){Common.Gateway.reportError(undefined,this.unsupportedBrowserErrorText);return}this.initControl(),Common.component.Analytics.initialize("UA-12442749-13","Document Editor Mobile");var e=this.api,t=this.getApplication();e=new asc_docs_api("id-sdkeditor"),e.SetMobileVersion(!0),e.CreateComponents(),e.SetFontsPath("../../../sdk/Fonts/"),e.Init(),e.initEvents2MobileAdvances(),e.asc_registerCallback("asc_onStartAction",Ext.bind(this.onLongActionBegin,this)),e.asc_registerCallback("asc_onError",Ext.bind(this.onError,this)),e.asc_registerCallback("asc_onEndAction",Ext.bind(this.onLongActionEnd,this)),e.asc_registerCallback("asc_onDocumentContentReady",Ext.bind(this.onDocumentContentReady,this)),e.asc_registerCallback("asc_onOpenDocumentProgress2",Ext.bind(this.onOpenDocument,this)),e.asc_registerCallback("asc_onSaveUrl",Ext.bind(this.onSaveUrl,this)),e.asc_registerCallback("asc_onGetEditorPermissions",Ext.bind(this.onEditorPermissions,this)),Ext.each(t.getControllers(),function(t){var n=this.getApplication().getController(t);n&&Ext.isFunction(n.setApi)&&n.setApi(e)},this),this.initApi(),this.editorConfig={},Common.Gateway.on("init",Ext.bind(this.loadConfig,this)),Common.Gateway.on("opendocument",Ext.bind(this.loadDocument,this)),Common.Gateway.on("showmessage",Ext.bind(this.onExternalMessage,this)),Common.Gateway.on("resetfocus",Ext.bind(this.onResetFocus,this)),Common.Gateway.on("processsaveresult",Ext.bind(this.onProcessSaveResult,this)),Common.Gateway.on("processrightschange",Ext.bind(this.onProcessRightsChange,this)),Common.Gateway.ready()},initControl:function(){},initApi:function(){},loadConfig:function(e){this.editorConfig=Ext.merge(this.editorConfig,e.config);if(this.editorConfig.user===undefined||this.editorConfig.user===null){this.editorConfig.user={};if(this.editorConfig.users){this.editorConfig.userId=this.editorConfig.userId||0;for(var t=0;t<this.editorConfig.users.length;t++)if(this.editorConfig.users[t].id===this.editorConfig.userId){this.editorConfig.user={id:this.editorConfig.users[t].id,name:this.editorConfig.users[t].username};break}}}this.editorConfig.user.id=this.editorConfig.user.id||"uid-"+Ext.Date.now(),this.editorConfig.user.name=this.editorConfig.user.name||this.textAnonymous},loadDocument:function(e){if(e.doc){this.permissions=e.doc.permissions;var t=new CDocInfo;t.put_Id(e.doc.key),t.put_Url(e.doc.url),t.put_Title(e.doc.title),t.put_Format(e.doc.fileType),t.put_VKey(e.doc.vkey),t.put_Options(e.doc.options),t.put_UserId(this.editorConfig.user.id),t.put_UserName(this.editorConfig.user.name),this.api.asc_setDocInfo(t),this.api.asc_getEditorPermissions(),Common.component.Analytics.trackEvent("Load","Start")}},onEditorPermissions:function(e){this.permissions.edit!==!1&&(this.permissions.edit=e.asc_getCanEdit()),this.permissions.reader!==!1&&(this.permissions.reader=e.asc_getCanReaderMode());var t=this.getApplication().getCurrentProfile(),n=this.getApplication().getController("Main",t?t.getNamespace():null),r=this.permissions.edit===!0&&this.editorConfig.mode!=="view",i=this.permissions.reader===!0;n&&(Ext.os.is.Phone&&i&&(this.api.SetReaderModeOnly(),r=!1),Ext.isFunction(n.setMode)&&n.setMode(r?"edit":"view"),Ext.isFunction(n.setReadableMode)&&n.setReadableMode(i)),this.api.SetViewMode(!r),this.api.LoadDocument(),this.api.Resize()},goBack:function(){Common.Gateway.goBack()},onDocumentContentReady:function(){this.api&&(this.api.Resize(),this.api.zoomFitToWidth()),this._hideLoadSplash(),Common.component.Analytics.trackEvent("Load","Complete")},onOpenDocument:function(e){var t=document.getElementById("loadmask-text");t&&(t.innerHTML=this.loadingDocText+": "+Math.round(e)+"%")},onSaveUrl:function(e){Common.Gateway.save(e)},onLongActionBegin:function(e,t){var n="";switch(t){case c_oAscAsyncAction.Save:n=this.saveText;break;case c_oAscAsyncAction.Print:n=this.printText}e==c_oAscAsyncActionType["BlockInteraction"]&&Ext.Viewport.setMasked({xtype:"loadmask",message:n})},onLongActionEnd:function(e){Ext.Viewport.unmask()},onError:function(e,t,n){this._hideLoadSplash();var r={closable:!1};switch(e){case c_oAscError.ID.Unknown:r.message=this.unknownErrorText;break;case c_oAscError.ID.ConvertationTimeout:r.message=this.convertationTimeoutText;break;case c_oAscError.ID.ConvertationError:r.message=this.convertationErrorText;break;case c_oAscError.ID.DownloadError:r.message=this.downloadErrorText;break;case c_oAscError.ID.UplImageSize:r.message=this.uploadImageSizeMessage;break;case c_oAscError.ID.UplImageExt:r.message=this.uploadImageExtMessage;break;case c_oAscError.ID.UplImageFileCount:r.message=this.uploadImageFileCountMessage;break;case c_oAscError.ID.SplitCellMaxRows:r.message=this.splitMaxRowsErrorText.replace("%1",n.get_Value());break;case c_oAscError.ID.SplitCellMaxCols:r.message=this.splitMaxColsErrorText.replace("%1",n.get_Value());break;case c_oAscError.ID.SplitCellRowsDivider:r.message=this.splitDividerErrorText.replace("%1",n.get_Value());break;case c_oAscError.ID.VKeyEncrypt:r.message=this.errorKeyEncrypt;break;case c_oAscError.ID.KeyExpire:r.message=this.errorKeyExpire;break;case c_oAscError.ID.UserCountExceed:r.message=this.errorUsersExceed;break;case c_oAscError.ID.CoAuthoringDisconnect:r.message=this.errorCoAuthoringDisconnect;break;case c_oAscError.ID.MobileUnexpectedCharCount:r.message=this.errorDocTooBig,r.out=!0;break;default:r.message=this.errorDefaultMessage.replace("%1",e)}t==c_oAscError.Level.Critical?(Common.Gateway.reportError(e,r.message),r.title=this.criticalErrorTitle,r.message+="<br/>"+this.criticalErrorExtText,r.buttons=Ext.Msg.OK,r.fn=function(e){e=="ok"&&(r.out===!0?Common.Gateway.goBack():window.location.reload())}):(r.title=this.notcriticalErrorTitle,r.buttons=Ext.Msg.OK,r.fn=Ext.emptyFn),Ext.Msg.show(r),Common.component.Analytics.trackEvent("Internal Error",e.toString())},onExternalMessage:function(e){e&&(this._hideLoadSplash(),Ext.Msg.show({title:e.title,msg:"<br/>"+e.msg,icon:Ext.Msg[e.severity.toUpperCase()],buttons:Ext.Msg.OK}),Common.component.Analytics.trackEvent("External Error",e.title))},onResetFocus:function(e){var t=document.activeElement;t.focus()},onProcessSaveResult:function(e){this.api&&this.api.asc_OnSaveEnd(e.result)},onProcessRightsChange:function(e){this.api&&e&&e.enabled===!1&&this.api.asc_coAuthoringDisconnect()},_hideLoadSplash:function(){var e=Ext.get("loading-mask");e&&Ext.Anim.run(e,"fade",{out:!0,duration:250,after:function(){e.destroy()}})},_isSupport:function(){return Ext.browser.is.WebKit&&(Ext.os.is.iOS||Ext.os.is.Android||Ext.os.is.Desktop)},loadingDocText:"LOADING DOCUMENT",saveText:"Saving...",printText:"Printing...",criticalErrorTitle:"Error",notcriticalErrorTitle:"Warning",errorDefaultMessage:"Error code: %1",criticalErrorExtText:'Press "Ok" to reload view page.',uploadImageSizeMessage:"Maximium image size limit exceeded.",uploadImageExtMessage:"Unknown image format.",uploadImageFileCountMessage:"No images uploaded.",reloadButtonText:"Reload Page",unknownErrorText:"Unknown error.",convertationTimeoutText:"Convertation timeout exceeded.",convertationErrorText:"Convertation failed.",downloadErrorText:"Download failed.",unsupportedBrowserErrorText:"Your browser is not supported.",splitMaxRowsErrorText:"The number of rows must be less than %1",splitMaxColsErrorText:"The number of columns must be less than %1",splitDividerErrorText:"The number of rows must be a divisor of %1",requestEditRightsText:"Requesting editing rights...",requestEditFailedTitleText:"Access denied",requestEditFailedMessageText:"Someone is editing this document right now. Please try again later.",errorKeyEncrypt:"Unknown key descriptor",errorKeyExpire:"Key descriptor expired",errorUsersExceed:"Count of users was exceed",errorCoAuthoringDisconnect:"Server connection lost. You can't edit anymore.",errorDocTooBig:"The document you are trying to open has more than 30000 characters or 1000 paragraphs in it and cannot by opened on your mobile device. Please try open it using a desktop PC.",textAnonymous:"Anonymous"}),Ext.define("DE.controller.Document",{extend:"Ext.app.Controller",init:function(){},launch:function(){Ext.getCmp("id-conteiner-document").on("resize",this.onEditorResize,this)},setApi:function(e){this.api=e,this.api&&(this.api.asc_registerCallback("asc_onShowPopMenu",Ext.bind(this.onApiShowPopMenu,this)),this.api.asc_registerCallback("asc_onHidePopMenu",Ext.bind(this.onApiHidePopMenu,this)))},onEditorResize:function(e){this.api&&(this.api.Resize(),this.onApiHidePopMenu())},onApiShowPopMenu:function(e,t){var n=Ext.ComponentQuery.query("popclip");n.length>0&&(n[0].setLeft(e),n[0].setTop(t),n[0].show())},onApiHidePopMenu:function(){var e=Ext.ComponentQuery.query("popclip");e.length>0&&e[0].hide()}}),Ext.define("DE.controller.Search",function(){return{extend:"Ext.app.Controller",config:{refs:{searchToolbar:"searchtoolbar",nextResultButton:"#id-btn-search-down",previousResultButton:"#id-btn-search-up",searchField:"#id-field-search"},control:{searchToolbar:{hide:"onSearchToolbarHide"},previousResultButton:{tap:"onPreviousResultButtonTap"},nextResultButton:{tap:"onNextResultButtonTap"},searchField:{keyup:"onSearchKeyUp",change:"onSearchChange",clearicontap:"onClearSearch"}}},init:function(){},setApi:function(e){this.api=e},updateNavigation:function(){var e=this.getSearchField().getValue();this.getNextResultButton().setDisabled(!(e.length>0)),this.getPreviousResultButton().setDisabled(!(e.length>0))},clearSearchResults:function(){this.getSearchField()&&(this.getSearchField().setValue(""),this.updateNavigation()),window.focus(),document.activeElement.blur()},onSearchToolbarHide:function(){this.clearSearchResults()},onNextResultButtonTap:function(){this.api.asc_findText(this.getSearchField().getValue(),!0)},onPreviousResultButtonTap:function(){this.api.asc_findText(this.getSearchField().getValue(),!1)},onSearchKeyUp:function(e,t){t.event.keyCode==13&&e.getValue().length>0&&this.api.asc_findText(e.getValue(),!0),this.updateNavigation()},onSearchChange:function(e,t,n){this.updateNavigation()},onClearSearch:function(e,t){this.clearSearchResults()}}}()),Ext.define("DE.controller.phone.Main",{extend:"DE.controller.Main",requires:["Ext.Anim"],config:{refs:{viewToolbar:"viewtoolbar",searchToolbar:"searchtoolbar",readableBtn:"#id-tb-btn-readable",searchButton:"#id-tb-btn-search",incFontSizeButton:"#id-tb-btn-incfontsize",decFontSizeButton:"#id-tb-btn-decfontsize",shareButton:"#id-tb-btn-view-share"}},launch:function(){this.callParent(arguments)},initControl:function(){this.callParent(arguments)},initApi:function(){this.callParent(arguments)},setApi:function(e){this.api=e;var t=this.getViewToolbar();t&&t.show(),this.api&&this.api.asc_enableKeyEvents(!1)},setReadableMode:function(e){var t=this.getReadableBtn(),n=this.getSearchButton(),r=this.getIncFontSizeButton(),i=this.getDecFontSizeButton(),s=this.getShareButton();e?(t&&t.show(),n&&n.hide(),r&&r.show(),i&&i.show(),s&&s.hide()):(t&&t.hide(),n&&n.show(),r&&r.hide(),i&&i.hide(),s&&s.show())}}),Ext.define("DE.controller.tablet.Main",{extend:"DE.controller.Main",requires:["Ext.Anim"],config:{refs:{editToolbar:"edittoolbar",viewToolbar:"viewtoolbar",searchToolbar:"searchtoolbar",readableBtn:"#id-tb-btn-readable"},control:{}},launch:function(){this.callParent(arguments)},initControl:function(){this.callParent(arguments)},initApi:function(){this.callParent(arguments)},setApi:function(e){this.api=e},setMode:function(e){var t=this.getEditToolbar(),n=this.getViewToolbar(),r=this.getSearchToolbar(),i=this.getApplication().getController("Common.controller.PopClip");e=="edit"?(n&&n.hide(),r&&r.hide(),t&&t.show(),this.api&&this.api.asc_enableKeyEvents(!0),this.api&&this.api.SetViewMode(!1)):(t&&t.hide(),n&&n.show(),this.api&&this.api.asc_enableKeyEvents(!1),this.api&&this.api.SetViewMode(!0)),i&&i.setMode(e)},setReadableMode:function(e){var t=this.getReadableBtn();t&&(e?t.show():t.hide())}}),Ext.define("DE.controller.tablet.panel.Font",{extend:"Ext.app.Controller",config:{refs:{fontPanel:"fontpanel",navigateView:"#id-font-navigate",fontSizeSpinner:"fontpanel planarspinnerfield",fontView:"#id-font-root",fontNameView:"#id-font-name",fontNameButton:"#id-btn-fontname",fontButton:"#id-tb-btn-font",fontBaseToggle:"#id-toggle-baseline",fontBaseUp:"#id-btn-baseline-up",fontBaseDown:"#id-btn-baseline-down"},control:{fontPanel:{show:"onFontPanelShow",hide:"onFontPanelHide"},navigateView:{push:"onNavigateViewPush",pop:"onNavigateViewPop",back:"onNavigateViewBack"},fontNameButton:{tap:"onFontNameButtonTap"},fontSizeSpinner:{blur:"onFontSizeSpinnerBlur",focus:"onFontSizeSpinnerFocus",keyup:"onFontSizeSpinnerKeyUp",spin:"onFontSizeSpinnerSpin"},fontNameView:{select:"onFontNameSelect",itemtap:"onFontNameItemTap"},fontBaseUp:{tap:"onFontBaseUpTap"},fontBaseDown:{tap:"onFontBaseDownTap"}},handleApiEvent:!1},init:function(){},launch:function(){},setApi:function(e){this.api=e,this.api&&(this.api.asc_registerCallback("asc_onFontFamily",Ext.bind(this.onApiFontChange,this)),this.api.asc_registerCallback("asc_onInitEditorFonts",Ext.bind(this.onApiLoadFonts,this)),this.api.asc_registerCallback("asc_onFontSize",Ext.bind(this.onApiFontSize,this)),this.api.asc_registerCallback("asc_onVerticalAlign",Ext.bind(this.onApiVerticalAlign,this)),this.api.asc_registerCallback("asc_onDocumentContentReady",Ext.bind(this.onDocumentContentReady,this)))},onFontPanelShow:function(e){this.setHandleApiEvent(!0),this.api&&this.api.UpdateInterfaceState()},onFontPanelHide:function(e){this.setHandleApiEvent(!1);var t=this.getNavigateView(),n=this.getFontSizeSpinner();n&&Ext.defer(function(){n.blur()},200);if(t){t.reset(),t.addCls("plain"),t.getNavigationBar().hide();var r=t.getActiveItem(),i=this.getSizeById(r&&r.id);e.setSize(i.width,i.height)}},onFontNameButtonTap:function(){var e=this.getNavigateView(),t=this.getFontNameView();if(e){var n=e.getNavigationBar();n&&n.show(),e.push(t)}},onFontSizeSpinnerFocus:function(){this.api&&this.api.asc_enableKeyEvents(!1)},onFontSizeSpinnerBlur:function(e){this.api&&this.api.asc_enableKeyEvents(!0),this.getFontSizeSpinner().setValue(e.getValue()),this.api&&(this.api.put_TextPrFontSize(e.getValue()),Common.component.Analytics.trackEvent("ToolBar","Font Size"))},onFontSizeSpinnerKeyUp:function(e,t){if(t.browserEvent.keyCode==13||t.browserEvent.keyCode==10)t.stopEvent(),e.element.dom.blur(),this.api&&(this.api.put_TextPrFontSize(e.getValue()),Common.component.Analytics.trackEvent("ToolBar","Font Size"))},onFontSizeSpinnerSpin:function(e,t){this.api&&(this.api.put_TextPrFontSize(t),Common.component.Analytics.trackEvent("ToolBar","Font Size"))},getSizeById:function(e){switch(e){case"id-font-name":return{width:350,height:300};default:case"id-font-root":return{width:440,height:46}}},toggleSegmentedButton:function(e){var t=this.getFontBaseToggle();if(t){var n=[];e&&n.push(e),t.setPressedButtons(n)}},onNavigateViewPush:function(e,t){var n=e.getParent(),r=this.getSizeById(t&&t.id);if(n){n.setSize(r.width,r.height);var i=this.getNavigateView();i&&(i.removeCls("plain"),i.getNavigationBar().show());var s=this.getFontButton();s&&n.alignTo(s)}},onNavigateViewPop:function(e,t){},onNavigateViewBack:function(e){var t=e.getParent(),n=e.getActiveItem(),r=this.getSizeById(n&&n.id);if(n&&n.id=="id-font-root"){var i=this.getNavigateView();i&&(i.addCls("plain"),i.getNavigationBar().hide())}if(t){t.setSize(r.width,r.height);var s=this.getFontButton();s&&t.alignTo(s)}},onFontNameSelect:function(e,t){var n=this.getFontNameButton();n&&n.setText(t.get("setting"))},onFontNameItemTap:function(e,t,n,r){this.api&&(this.api.put_TextPrFontName(r.get("setting")),Common.component.Analytics.trackEvent("ToolBar","Font Name"))},onFontBaseUpTap:function(e){if(this.api){var t=this.getFontBaseToggle();t&&(this.api.put_TextPrBaseline(t.isPressed(e)?1:0),Common.component.Analytics.trackEvent("ToolBar","Superscript"))}},onFontBaseDownTap:function(e){if(this.api){var t=this.getFontBaseToggle();t&&(this.api.put_TextPrBaseline(t.isPressed(e)?2:0),Common.component.Analytics.trackEvent("ToolBar","Subscript"))}},onDocumentContentReady:function(){if(this.api){var e=this.api.get_PropertyEditorFonts();e&&this.onApiLoadFonts(e)}},onApiFontChange:function(e){if(this.getHandleApiEvent()){var t=this.getFontNameView();if(t){var n=e.get_Name(),r=t.getStore().findRecord("setting",n);r&&t.select(r)}}},onApiLoadFonts:function(e){var t=this.getFontNameView();if(t){var n=[];Ext.each(e,function(e){n.push({setting:e.asc_getFontName(),group:"font"})}),t.getStore().setData(n)}},onApiFontSize:function(e){if(this.getHandleApiEvent()){var t=this.getFontSizeSpinner();t&&t.setValue(e)}},onApiVerticalAlign:function(e){if(this.getHandleApiEvent())switch(e){case 1:this.toggleSegmentedButton(this.getFontBaseUp());break;case 2:this.toggleSegmentedButton(this.getFontBaseDown());break;default:this.toggleSegmentedButton()}}}),Ext.define("DE.controller.tablet.panel.FontStyle",{extend:"Ext.app.Controller",config:{refs:{fontStylePanel:"fontstylepanel",fontStylesToggle:"#id-toggle-fontstyles",fontStyleBold:"#id-btn-fontstyle-bold",fontStyleItalic:"#id-btn-fontstyle-italic",fontStyleUnderline:"#id-btn-fontstyle-underline"},control:{fontStylePanel:{show:"onFontStyleShow",hide:"onFontStyleHide"},fontStyleBold:{tap:"onBoldButtonTap"},fontStyleItalic:{tap:"onItalicButtonTap"},fontStyleUnderline:{tap:"onUnderlineButtonTap"}},handleApiEvent:!1},init:function(){},launch:function(){},setApi:function(e){this.api=e,this.api&&(this.api.asc_registerCallback("asc_onBold",Ext.bind(this.onApiBold,this)),this.api.asc_registerCallback("asc_onItalic",Ext.bind(this.onApiItalic,this)),this.api.asc_registerCallback("asc_onUnderline",Ext.bind(this.onApiUnderline,this)))},onFontStyleShow:function(e){this.setHandleApiEvent(!0),this.api&&this.api.UpdateInterfaceState()},onFontStyleHide:function(e){this.setHandleApiEvent(!1)},_toggleSegmentedButton:function(e,t){var n=this.getFontStylesToggle();if(n&&e){var r=n.getPressedButtons().slice(),i=n.getPressedButtons(),s=i.indexOf(e);t?s<0&&i.push(e):s>-1&&i.splice(s,1),n.updatePressedButtons(i,r)}},onApiBold:function(e){this.getHandleApiEvent()&&this._toggleSegmentedButton(this.getFontStyleBold(),e)},onApiItalic:function(e){this.getHandleApiEvent()&&this._toggleSegmentedButton(this.getFontStyleItalic(),e)},onApiUnderline:function(e){this.getHandleApiEvent()&&this._toggleSegmentedButton(this.getFontStyleUnderline(),e)},onBoldButtonTap:function(e){var t=this.getFontStylesToggle();t&&this.api&&(this.api.put_TextPrBold(t.isPressed(e)),Common.component.Analytics.trackEvent("ToolBar","Bold"))},onItalicButtonTap:function(e){var t=this.getFontStylesToggle();t&&this.api&&(this.api.put_TextPrItalic(t.isPressed(e)),Common.component.Analytics.trackEvent("ToolBar","Italic"))},onUnderlineButtonTap:function(e){var t=this.getFontStylesToggle();t&&this.api&&(this.api.put_TextPrUnderline(t.isPressed(e)),Common.component.Analytics.trackEvent("ToolBar","Underline"))}}),Ext.define("DE.controller.tablet.panel.Insert",{extend:"Ext.app.Controller",config:{refs:{insertPanel:"insertpanel",navigateView:"#id-insert-navigate",insertListView:"#id-insert-root",insertTableView:"#id-insert-table-container",insertPictureView:"#id-insert-picture-container",insertTableButton:"#id-btn-insert-table",tableColumnsSpinner:"#id-spinner-table-columns",tableRowsSpinner:"#id-spinner-table-rows",insertImageList:"#id-insert-picture-container"},control:{insertPanel:{hide:"onInsertPanelHide"},navigateView:{push:"onNavigateViewPush",pop:"onNavigateViewPop",back:"onNavigateViewBack"},insertListView:{itemsingletap:"onInsertListItemTap"},insertTableButton:{tap:"onInsertTableButtonTap"},insertImageList:{itemtap:"onInsertImageItemTap"}}},init:function(){},onInsertImageListShow:function(e){var t=this,n=document.querySelector("#id-insert-picture-inline input[type=file]"),r=document.querySelector("#id-insert-picture-float input[type=file]"),i=function(e){if(Ext.isDefined(e)){var r=e.files[0];if(Ext.isDefined(r)){var i=t.getInsertPanel(),s=new MegaPixImage(r);s.imageLoadListeners.push(function(){var r=document.createElement("canvas"),i=new CImgProperty;s.render(r,{maxWidth:1024,maxHeight:1024}),i.put_WrappingStyle(e==n?c_oAscWrapStyle2.Inline:c_oAscWrapStyle2.Square),t.api.AddImageUrl(r.toDataURL(),i),Ext.Viewport.unmask()}),e.value="",i&&i.hide(),Ext.Viewport.setMasked({xtype:"loadmask",message:t.uploadingText+"..."})}}};n&&(n.onchange=Ext.bind(i,t,[n])),r&&(r.onchange=Ext.bind(i,t,[r]))},launch:function(){var e=this.getInsertImageList();e&&e.on("show",Ext.bind(this.onInsertImageListShow,this),this,{delay:1e3,single:!0})},setApi:function(e){this.api=e},onInsertPanelHide:function(e){var t=this.getNavigateView(),n=this.getTableColumnsSpinner(),r=this.getTableRowsSpinner();if(t){Ext.isDefined(t.getLayout().getAnimation().getInAnimation)&&t.getLayout().getAnimation().getInAnimation().stop(),Ext.isDefined(t.getLayout().getAnimation().getOutAnimation)&&t.getLayout().getAnimation().getOutAnimation().stop(),t.reset();var i=t.getActiveItem(),s=this.getHeightById(i&&i.id);e.setHeight(s)}n&&n.setValue(n.getMinValue()),r&&r.setValue(r.getMinValue())},onInsertListItemTap:function(e,t,n,r){var i=this.getNavigateView(),s=r.get("id");Ext.isEmpty(s)||(s=="id-insert-table-row"?(this.insertTableObject("row"),Common.component.Analytics.trackEvent("ToolBar","Insert Row")):s=="id-insert-table-column"&&(this.insertTableObject("column"),Common.component.Analytics.trackEvent("ToolBar","Insert Column")));if(i){var o=r.get("child");if(!Ext.isEmpty(o)){var u=Ext.getCmp(o);u&&i.push(u)}}},getHeightById:function(e){switch(e){case"id-insert-table-container":return 225;case"id-insert-picture-container":return 174;default:case"id-insert-root":return 283}},onNavigateViewPush:function(e,t){var n=e.getParent();n&&n.setHeight(this.getHeightById(t&&t.id))},onNavigateViewPop:function(e,t){},onNavigateViewBack:function(e){var t=e.getParent(),n=e.getActiveItem();t&&n&&t.setHeight(this.getHeightById(n&&n.id))},onInsertTableButtonTap:function(e){var t=this.getInsertPanel(),n=this.getTableColumnsSpinner(),r=this.getTableRowsSpinner();this.api&&n&&r&&this.api.put_Table(n.getValue(),r.getValue()),t&&t.hide(),Common.component.Analytics.trackEvent("ToolBar","Table")},onInsertImageItemTap:function(e){(Ext.os.is.iOS&&Ext.os.version.lt("6.0")||Ext.os.is.Android&&Ext.os.version.lt("3.0"))&&Ext.Msg.show({message:this.unsupportUploadText,promptConfig:!1,buttons:[{text:"OK",itemId:"ok",ui:"base"}]})},insertTableObject:function(e){if(this.api){var t=this.api.getSelectedElements();if(t&&t.length>0){var n=t[0].get_ObjectType();c_oAscTypeSelectElement.Table==n?e==="row"?this.api.addRowBelow():e==="column"?this.api.addColumnRight():this.api.put_Table(1,1):this.api.put_Table(1,1)}}},uploadingText:"Uploading",unsupportUploadText:"Feature is not supported on this device."}),Ext.define("DE.controller.tablet.panel.ParagraphAlignment",{extend:"Ext.app.Controller",config:{refs:{paraAlignPanel:"paragraphalignmentpanel",paraAlignsToggle:"#id-toggle-paragraphalignment",paragraphAlignmentButton:"#id-tb-btn-align",paraAlignLeft:"#id-btn-paragraphalignment-left",paraAlignCenter:"#id-btn-paragraphalignment-center",paraAlignRight:"#id-btn-paragraphalignment-right",paraAlignFill:"#id-btn-paragraphalignment-fill"},control:{paraAlignPanel:{show:"onParaAlignPanelShow",hide:"onParaAlignPanelHide"},paraAlignLeft:{tap:"onParaAlignLeftTap"},paraAlignCenter:{tap:"onParaAlignCenterTap"},paraAlignRight:{tap:"onParaAlignRightTap"},paraAlignFill:{tap:"onParaAlignFillTap"}},handleApiEvent:!1},init:function(){},launch:function(){},onParaAlignPanelShow:function(e){this.setHandleApiEvent(!0),this.api&&this.api.UpdateInterfaceState()},onParaAlignPanelHide:function(e){this.setHandleApiEvent(!1)},setApi:function(e){this.api=e,this.api&&this.api.asc_registerCallback("asc_onPrAlign",Ext.bind(this.onApiParagraphAlign,this))},onParaAlignLeftTap:function(e){this.api&&(this.api.put_PrAlign(1),Common.component.Analytics.trackEvent("ToolBar","Align"))},onParaAlignCenterTap:function(e){this.api&&(this.api.put_PrAlign(2),Common.component.Analytics.trackEvent("ToolBar","Align"))},onParaAlignRightTap:function(e){this.api&&(this.api.put_PrAlign(0),Common.component.Analytics.trackEvent("ToolBar","Align"))},onParaAlignFillTap:function(e){this.api&&(this.api.put_PrAlign(3),Common.component.Analytics.trackEvent("ToolBar","Align"))},toggleSegmentedButton:function(e){var t=this.getParaAlignsToggle();if(t){var n=[];e&&n.push(e),t.setPressedButtons(n)}},onApiParagraphAlign:function(e){var t=this.getParagraphAlignmentButton();if(t&&Ext.isDefined(e))switch(e){case 0:t.setIconCls("align-right");break;case 1:t.setIconCls("align-left");break;case 2:t.setIconCls("align-center");break;default:case 3:t.setIconCls("align-fill")}if(this.getHandleApiEvent()){if(!Ext.isDefined(e)){this.toggleSegmentedButton();return}switch(e){case 0:this.toggleSegmentedButton(this.getParaAlignRight());break;case 1:this.toggleSegmentedButton(this.getParaAlignLeft());break;case 2:this.toggleSegmentedButton(this.getParaAlignCenter());break;default:case 3:this.toggleSegmentedButton(this.getParaAlignFill())}}}}),Ext.define("DE.controller.tablet.panel.Spacing",{extend:"Ext.app.Controller",config:{refs:{spacingPanel:"spacingpanel",navigateView:"#id-spacing-navigate",spacingListView:"#id-spacing-root",spacingValueListView:"#id-spacing-linespacing"},control:{spacingPanel:{show:"onSpacingPanelShow",hide:"onSpacingPanelHide"},navigateView:{push:"onSpacingListViewPush",pop:"onSpacingListViewPop",back:"onSpacingListViewBack"},spacingListView:{itemsingletap:"onSpacingListItemTap"},spacingValueListView:{itemsingletap:"onSpacingValueListItemTap"}},handleApiEvent:!1},init:function(){},launch:function(){},setApi:function(e){this.api=e,this.api&&this.api.asc_registerCallback("asc_onParaSpacingLine",Ext.bind(this.onApiLineSpacing,this))},onSpacingPanelShow:function(e){this.setHandleApiEvent(!0),this.api&&this.api.UpdateInterfaceState()},onSpacingPanelHide:function(e){this.setHandleApiEvent(!1);var t=this.getNavigateView();if(t){Ext.isDefined(t.getLayout().getAnimation().getInAnimation)&&t.getLayout().getAnimation().getInAnimation().stop(),Ext.isDefined(t.getLayout().getAnimation().getOutAnimation)&&t.getLayout().getAnimation().getOutAnimation().stop(),t.reset();var n=t.getActiveItem(),r=this.getHeightById(n&&n.id);e.setHeight(r)}},onSpacingListItemTap:function(e,t,n,r){var i=this.getNavigateView(),s=r.get("id");Ext.isEmpty(s)||(s=="id-linespacing-increaseindent"?(this.api&&this.api.IncreaseIndent(),Common.component.Analytics.trackEvent("ToolBar","Indent")):s=="id-linespacing-decrementindent"&&(this.api&&this.api.DecreaseIndent(),Common.component.Analytics.trackEvent("ToolBar","Indent")));if(i){var o=r.get("child");if(!Ext.isEmpty(o)){var u=Ext.getCmp(o);u&&i.push(u)}}},onSpacingValueListItemTap:function(e,t,n,r){var i=parseFloat(r.get("setting")),s=1;this.api&&this.api.put_PrLineSpacing(s,i),Common.component.Analytics.trackEvent("ToolBar","Line Spacing")},getHeightById:function(e){switch(e){case"id-spacing-linespacing":return 360;default:case"id-spacing-root":return 235}},onSpacingListViewPush:function(e,t){var n=e.getParent();n&&n.setHeight(this.getHeightById(t.id))},onSpacingListViewPop:function(e,t){},onSpacingListViewBack:function(e){var t=e.getParent(),n=e.getActiveItem();t&&n&&t.setHeight(this.getHeightById(n&&n.id))},onApiLineSpacing:function(e){if(this.getHandleApiEvent()&&Ext.isDefined(e)){var t=this.getSpacingValueListView();if(t){if(e.get_Line()===null||e.get_LineRule()===null||e.get_LineRule()!=1){t.deselectAll();return}var n=e.get_Line();Math.abs(n-1)<1e-4?t.select(0):Math.abs(n-1.15)<1e-4?t.select(1):Math.abs(n-1.5)<1e-4?t.select(2):Math.abs(n-2)<1e-4?t.select(3):Math.abs(n-2.5)<1e-4?t.select(4):Math.abs(n-3)<1e-4?t.select(5):t.deselectAll()}}}}),Ext.define("DE.controller.tablet.panel.Style",{extend:"Ext.app.Controller",config:{refs:{listStylePanel:"liststylepanel",navigateView:"#id-liststyle-navigate",listStyleView:"#id-liststyle-root",bulletsListView:"#id-liststyle-bullets",numberingListView:"#id-liststyle-numbering",outlineListView:"#id-liststyle-outline",bulletsList:"#id-liststyle-bullets dataview",numberingList:"#id-liststyle-numbering dataview",outlineList:"#id-liststyle-outline dataview"},control:{listStylePanel:{show:"onListStylePanelShow",hide:"onListStylePanelHide"},navigateView:{push:"onListStyleViewPush",pop:"onListStyleViewPop",back:"onListStyleViewBack"},listStyleView:{itemsingletap:"onListStyleItemTap"},bulletsList:{itemsingletap:"onCommonListItemTap"},numberingList:{itemsingletap:"onCommonListItemTap"},outlineList:{itemsingletap:"onCommonListItemTap"}},handleApiEvent:!1},init:function(){},launch:function(){},setApi:function(e){this.api=e},onListStylePanelShow:function(e){this.setHandleApiEvent(!0),this.api&&this.api.UpdateInterfaceState()},onListStylePanelHide:function(e){this.setHandleApiEvent(!1);var t=this.getNavigateView();if(t){Ext.isDefined(t.getLayout().getAnimation().getInAnimation)&&t.getLayout().getAnimation().getInAnimation().stop(),Ext.isDefined(t.getLayout().getAnimation().getOutAnimation)&&t.getLayout().getAnimation().getOutAnimation().stop(),t.reset();var n=t.getActiveItem(),r=this.getHeightById(n&&n.id);e.setHeight(r)}},onListStyleItemTap:function(e,t,n,r){var i=this.getNavigateView(),s=r.get("id");Ext.isEmpty(s)||(s=="id-list-indent-increment"?this.onIncrementIndentButton():s=="id-list-indent-decrement"&&this.onDecrementIndentButton());if(i){var o=r.get("child");if(!Ext.isEmpty(o)){var u=Ext.getCmp(o);u&&i.push(u)}}},getHeightById:function(e){switch(e){case"id-liststyle-bullets":case"id-liststyle-numbering":return 225;case"id-liststyle-outline":return 150;default:case"id-liststyle-root":return 328}},onListStyleViewPush:function(e,t){var n=e.getParent();n&&n.setHeight(this.getHeightById(t.id))},onListStyleViewPop:function(e,t){},onListStyleViewBack:function(e){var t=e.getParent(),n=e.getActiveItem();t&&n&&t.setHeight(this.getHeightById(n&&n.id))},onCommonListItemTap:function(e,t,n,r){this.api&&this.api.put_ListType(parseInt(r.get("type")),parseInt(r.get("subtype"))),Common.component.Analytics.trackEvent("ToolBar","List Type")},onIncrementIndentButton:function(){this.api&&this.api.IncreaseIndent(),Common.component.Analytics.trackEvent("ToolBar","Indent")},onDecrementIndentButton:function(){this.api&&this.api.DecreaseIndent(),Common.component.Analytics.trackEvent("ToolBar","Indent")}}),Ext.define("DE.controller.tablet.panel.TextColor",{extend:"Ext.app.Controller",config:{refs:{textColorPanel:"textcolorsettingspanel",navigateView:"#id-textcolor-navigate",textColorView:"#id-textcolor-root",highlightColorList:"#id-textcolor-highlight dataview",textColorList:"#id-textcolor-text dataview",noFillColorButton:"#id-btn-highlight-none"},control:{textColorPanel:{show:"onTextColorPanelShow",hide:"onTextColorPanelHide"},navigateView:{push:"onNavigateViewPush",pop:"onNavigateViewPop",back:"onNavigateViewBack"},textColorView:{itemsingletap:"onTextColorItemTap"},highlightColorList:{itemsingletap:"onHighlightListItemTap"},noFillColorButton:{tap:"onNoFillColorTap"},textColorList:{itemsingletap:"onTextColorListItemTap"}},handleApiEvent:!1},init:function(){},launch:function(){},setApi:function(e){this.api=e,this.api&&(this.api.asc_registerCallback("asc_onTextColor",Ext.bind(this.onApiTextColor,this)),this.api.asc_registerCallback("asc_onTextHighLight",Ext.bind(this.onApiHighlightColor,this)))},onTextColorPanelShow:function(e){this.setHandleApiEvent(!0),this.api&&this.api.UpdateInterfaceState()},onTextColorPanelHide:function(e){this.setHandleApiEvent(!1);var t=this.getNavigateView();if(t){Ext.isDefined(t.getLayout().getAnimation().getInAnimation)&&t.getLayout().getAnimation().getInAnimation().stop(),Ext.isDefined(t.getLayout().getAnimation().getOutAnimation)&&t.getLayout().getAnimation().getOutAnimation().stop(),t.reset();var n=t.getActiveItem(),r=this.getHeightById(n&&n.id);e.setHeight(r)}},onTextColorItemTap:function(e,t,n,r){var i=this.getNavigateView();if(i){var s=r.get("child");if(!Ext.isEmpty(s)){var o=Ext.getCmp(s);o&&i.push(o)}}},onHighlightListItemTap:function(e,t,n,r){var i=this.getNoFillColorButton(),s=this.getHighlightColorList();if(i&&s){i.removeCls("x-button-pressing pressed"),s.select(r);var o=r.get("color"),u=o[0]+o[1],a=o[2]+o[3],f=o[4]+o[5];this.api&&this.api.SetMarkerFormat(!0,!0,parseInt(u,16),parseInt(a,16),parseInt(f,16)),Common.component.Analytics.trackEvent("ToolBar","Highlight Color")}},onNoFillColorTap:function(e){var t=this.getNoFillColorButton(),n=this.getHighlightColorList();t&&n&&(e.element.hasCls("x-button-pressing pressed")||(n.deselectAll(),t.addCls("x-button-pressing pressed"),this.api&&this.api.SetMarkerFormat(!0,!1),Common.component.Analytics.trackEvent("ToolBar","Highlight Color")))},onTextColorListItemTap:function(e,t,n,r){var i=this.getTextColorList();if(i){i.select(r);var s=r.get("color"),o=new CAscColor;o.put_r(parseInt(s[0]+s[1],16)),o.put_g(parseInt(s[2]+s[3],16)),o.put_b(parseInt(s[4]+s[5],16)),this.api&&this.api.put_TextColor(o),Common.component.Analytics.trackEvent("ToolBar","Text Color")}},scrollToSelected:function(e){if(e&&e.isXType("dataview")){var t=e.element,n=e.getSelectedCls(),r=t.down("."+n),i;r&&(i=r.dom.offsetTop,Ext.defer(function(){var t=e.getScrollable().getScroller().getTranslatable()._element;t&&i>t.getHeight()-e.element.getHeight()&&(i=t.getHeight()-e.element.getHeight()),e.getScrollable().getScroller().scrollTo(0,i,!0)},500))}},animateSetHeight:function(e,t){Ext.isDefined(e)&&e.setHeight(t)},getHeightById:function(e){switch(e){case"id-textcolor-root":return 172;case"id-textcolor-highlight":return 326;default:case"id-textcolor-text":return 336}},onNavigateViewPush:function(e,t){this.animateSetHeight(e.getParent(),this.getHeightById(t.id)),t.id=="id-textcolor-highlight"?this.scrollToSelected(this.getHighlightColorList()):t.id=="id-textcolor-text"&&this.scrollToSelected(this.getTextColorList())},onNavigateViewPop:function(e,t){},onNavigateViewBack:function(e){var t=e.getParent(),n=e.getActiveItem();t&&n&&this.animateSetHeight(t,this.getHeightById(n&&n.id))},onApiTextColor:function(e){if(this.getHandleApiEvent()&&Ext.isDefined(e)){var t=this.getTextColorList();if(t){var n=function(e,t,n){var e=e.toString(16),t=t.toString(16),n=n.toString(16);return e.length==1&&(e="0"+e),t.length==1&&(t="0"+t),n.length==1&&(n="0"+n),(e+t+n).toUpperCase()},r=n(e.get_r(),e.get_g(),e.get_b()),i=t.getStore().findRecord("color",r);i?t.select(i):t.deselectAll()}}},onApiHighlightColor:function(e){if(this.getHandleApiEvent()&&Ext.isDefined(e)){var t=this.api.get_TextProps().get_TextPr(),n=this.getHighlightColorList(),r=this.getNoFillColorButton(),i=function(){n.deselectAll(),r.addCls("x-button-pressing pressed")};if(t){e=t.get_HighLight();if(e==-1)i();else{var s=e.get_hex().toUpperCase();if(n){var o=n.getStore().findRecord("color",s);o?(r.removeCls("x-button-pressing pressed"),n.select(o)):i()}}}}}}),Ext.define("DE.controller.toolbar.Edit",{extend:"Ext.app.Controller",requires:["Ext.MessageBox","Ext.util.Point","Ext.util.Region","DE.view.tablet.panel.Font","DE.view.tablet.panel.FontStyle","DE.view.tablet.panel.Insert","DE.view.tablet.panel.ListStyle","DE.view.tablet.panel.ParagraphAlignment","DE.view.tablet.panel.Spacing","DE.view.tablet.panel.TextColor"],config:{refs:{doneButton:"#id-tb-btn-done",saveButton:"#id-tb-btn-save",undoButton:"#id-tb-btn-undo",fontButton:"#id-tb-btn-font",fontStyleButton:"#id-tb-btn-style",textColorButton:"#id-tb-btn-color",paragraphAlignmentButton:"#id-tb-btn-align",listStyleButton:"#id-tb-btn-liststyle",paragraphButton:"#id-tb-btn-paragraph",tableButton:"#id-tb-btn-table",shareButton:"#id-tb-btn-share",textColorPanel:"#id-panel-text-color",paragraphPanel:"#id-panel-spacing",paragraphAlignmentPanel:"#id-panel-paragraph-alignment",fontStylePanel:"#id-panel-font-style",listStylePanel:"#id-panel-liststyle",insertPanel:"#id-panel-insert",fontPanel:"#id-panel-font"},control:{doneButton:{tap:"onTapDone"},saveButton:{tap:"onTapSave"},undoButton:{tap:"onTapUndo"},fontButton:{tap:"onTapFont"},fontStyleButton:{tap:"onTapFontStyle"},textColorButton:{tap:"onTapTextColor"},paragraphAlignmentButton:{tap:"onTabParagraphAlignment"},listStyleButton:{tap:"onTapListStyle"},paragraphButton:{tap:"onTapParagraphButton"},tableButton:{tap:"onTapTable"},shareButton:{tap:"onTapShare"}}},launch:function(){this.callParent(arguments),Ext.getCmp("id-conteiner-document").on("resize",this.onEditorResize,this);var e=Ext.ComponentQuery.query("edittoolbar > button, edittoolbar > toolbar > button");Ext.each(Ext.ComponentQuery.query("commonpopoverpanel"),function(t){var n=t.getModal();n&&n.on("tap",function(n,r){Ext.each(e,function(e){if(e!==t.alignByCmp){var n=Ext.util.Point.fromEvent(r),i=Ext.util.Region.from(e.element.getPageBox());i.isOutOfBound(n)||e.fireEvent("tap",e,r)}},this)},this)},this),Common.Gateway.on("init",Ext.bind(this.loadConfig,this))},initControl:function(){this.callParent(arguments)},initApi:function(){},setApi:function(e){this.api=e,this.api&&(this.api.asc_registerCallback("asc_onCanUndo",Ext.bind(this.onApiCanUndo,this)),this.api.asc_registerCallback("asc_onoAuthoringDisconnect",Ext.bind(this.onCoAuthoringDisconnect,this)))},loadConfig:function(e){var t=this.getDoneButton();t&&e&&e.config&&e.config.canBackToFolder===!0&&t.show()},onApiCanUndo:function(e){var t=this.getUndoButton();t&&t.setDisabled(!e)},onCoAuthoringDisconnect:function(){Ext.each(Ext.ComponentQuery.query("commonpopoverpanel"),function(e){e.hide()}),Ext.each(Ext.ComponentQuery.query("edittoolbar > button, edittoolbar > toolbar > button"),function(e){e.removeCls("x-button-pressing"),e.disable()});var e=this.getShareButton();e&&e.enable()},showToolbarPanel:function(e,t){e&&t&&(e.on("hide",Ext.bind(function(){t.removeCls("x-button-pressing")},this),this,{single:!0}),t.addCls("x-button-pressing"),Ext.each(Ext.ComponentQuery.query("popclip"),function(e){e.hide(!0)},this),e.alignByCmp=t,e.setLeft(0),e.setTop(0),e.showBy(t))},onTapDone:function(){this.api.isDocumentModified()?Ext.Msg.show({title:this.dlgLeaveTitleText,message:this.dlgLeaveMsgText,buttons:[{text:this.leaveButtonText,itemId:"cancel",ui:"base"},{text:this.stayButtonText,itemId:"ok",ui:"base-blue"}],promptConfig:!1,scope:this,fn:function(e){e=="cancel"&&Common.Gateway.goBack()}}):Common.Gateway.goBack()},onTapSave:function(){this.api&&this.api.asc_Save(),Common.component.Analytics.trackEvent("ToolBar","Save")},onTapUndo:function(){this.api&&this.api.Undo(),Common.component.Analytics.trackEvent("ToolBar","Undo")},onTapShare:function(){this.api&&this.api.asc_Print(),Common.component.Analytics.trackEvent("ToolBar","Share")},onTapFont:function(){this.showToolbarPanel(this.getFontPanel(),this.getFontButton())},onTapFontStyle:function(){this.showToolbarPanel(this.getFontStylePanel(),this.getFontStyleButton())},onTapTextColor:function(){this.showToolbarPanel(this.getTextColorPanel(),this.getTextColorButton())},onTabParagraphAlignment:function(){this.showToolbarPanel(this.getParagraphAlignmentPanel(),this.getParagraphAlignmentButton())},onTapListStyle:function(){this.showToolbarPanel(this.getListStylePanel(),this.getListStyleButton())},onTapParagraphButton:function(){this.showToolbarPanel(this.getParagraphPanel(),this.getParagraphButton())},onTapTable:function(){this.showToolbarPanel(this.getInsertPanel(),this.getTableButton())},onEditorResize:function(e){var t=Ext.ComponentQuery.query("commonpopoverpanel");Ext.each(t,function(e){e.hide()})},dlgLeaveTitleText:"You leave the application",dlgLeaveMsgText:"You have unsaved changes in this document. Click 'Stay on this Page' then 'Save' to save them. Click 'Leave this Page' to discard all the unsaved changes.",leaveButtonText:"Leave this Page",stayButtonText:"Stay on this Page"}),Ext.define("DE.controller.toolbar.View",{extend:"Ext.app.Controller",config:{refs:{viewToolbar:"viewtoolbar",searchToolbar:"searchtoolbar",doneButton:"#id-tb-btn-view-done",editModeButton:"#id-tb-btn-editmode",readModeButton:"#id-tb-btn-readable",searchButton:"#id-tb-btn-search",fullscreenButton:"#id-tb-btn-fullscreen",shareButton:"#id-tb-btn-view-share",incFontSizeButton:"#id-tb-btn-incfontsize",decFontSizeButton:"#id-tb-btn-decfontsize"},control:{doneButton:{tap:"onTapDoneButton"},editModeButton:{tap:"onTapEditModeButton"},searchButton:{tap:"onTapSearchButton"},readModeButton:{tap:"onTapReaderButton"},shareButton:{tap:"onTapShareButton"},incFontSizeButton:{tap:"onTapIncFontSizeButton"},decFontSizeButton:{tap:"onTapDecFontSizeButton"}},searchMode:!1,fullscreenMode:!1,readableMode:!1},init:function(){this.control({fullscreenButton:{tap:Ext.Function.createBuffered(this.onTapFullscreenButton,500,this)}})},launch:function(){this.callParent(arguments),Common.Gateway.on("init",Ext.bind(this.loadConfig,this)),Common.Gateway.on("opendocument",Ext.bind(this.loadDocument,this)),Common.Gateway.on("applyeditrights",Ext.bind(this.onApplyEditRights,this))},initControl:function(){this.callParent(arguments)},initApi:function(){},setApi:function(e){this.api=e,this.api&&(this.api.asc_registerCallback("asc_onTapEvent",Ext.bind(this.onSingleTapDocument,this)),this.api.asc_registerCallback("asc_onoAuthoringDisconnect",Ext.bind(this.onCoAuthoringDisconnect,this)))},loadConfig:function(e){var t=this.getDoneButton();t&&e&&e.config&&e.config.canBackToFolder===!0&&t.show()},loadDocument:function(e){var t={};if(e.doc){t=Ext.merge(t,e.doc.permissions);var n=this.getEditModeButton();n&&n.setHidden(t.edit!==!0)}},onApplyEditRights:function(e){Ext.Viewport.unmask();if(e&&e.allowed){var t=this.getApplication().getController("tablet.Main");this.getReadableMode()&&this.setReadableMode(!1),this.getFullscreenMode()&&this.setFullscreenMode(!1),t&&t.setMode("edit")}else{var n=this.getEditModeButton();n&&n.hide(),Ext.Msg.show({title:this.requestEditFailedTitleText,message:e&&e.message||this.requestEditFailedMessageText,icon:Ext.Msg.INFO,buttons:Ext.Msg.OK})}},applySearchMode:function(e){if(!!Ext.isBoolean(e)){var t=this,n=t.getSearchToolbar(),r=t.getSearchButton();return n&&(e?(r&&r.addCls("x-button-pressing"),t.getFullscreenMode()?n.show({easing:"ease-out",preserveEndState:!0,autoClear:!1,from:{opacity:.3},to:{opacity:.9}}):n.show()):(r&&r.removeCls("x-button-pressing"),t.getFullscreenMode()?n.hide({easing:"ease-in",to:{opacity:.3}}):n.hide())),e}Ext.Logger.error("Invalid parameters.")},applyFullscreenMode:function(e){if(!!Ext.isBoolean(e)){var t=this.getViewToolbar(),n=this.getSearchToolbar(),r=this.getFullscreenButton(),i=Ext.ComponentQuery.query("popclip");return i.length>0&&i[0].hide(),t&&n&&(e?(r&&r.addCls("x-button-pressing"),t.setStyle({position:"absolute",left:0,top:0,right:0,opacity:.9,"z-index":17}),n.setStyle({position:"absolute",left:0,top:"44px",right:0,opacity:.9,"z-index":16}),this.setHiddenToolbars(!0)):(t.setStyle({position:"initial",opacity:1}),n.setStyle({position:"initial",opacity:1}),t.setDocked("top"),n.setDocked("top"))),e}Ext.Logger.error("Invalid parameters.")},applyReadableMode:function(e){if(!!Ext.isBoolean(e)){var t=this.getSearchButton(),n=this.getIncFontSizeButton(),r=this.getDecFontSizeButton(),i=this.getReadModeButton(),s=Ext.ComponentQuery.query("popclip"),o=this.getShareButton();return s.length>0&&s[0].hide(),e?(this.getSearchMode()&&this.setSearchMode(!1),e&&i&&i.addCls("x-button-pressing"),t&&t.hide(),n&&n.show(),r&&r.show(),o&&o.setDisabled(!0)):(n&&n.hide(),r&&r.hide(),t&&t.show(),o&&o.setDisabled(!1)),this.api&&this.api.ChangeReaderMode(),e}Ext.Logger.error("Invalid parameters.")},setHiddenToolbars:function(e){var t=this.getViewToolbar(),n=this.getSearchToolbar();t&&n&&(e?(t.hide({easing:"ease-out",from:{opacity:.9},to:{opacity:0}}),n.hide({easing:"ease-out",from:{opacity:.9},to:{opacity:0}})):(t.show({preserveEndState:!0,easing:"ease-in",from:{opacity:0},to:{opacity:.9}}),this.getSearchMode()&&n.show({preserveEndState:!0,easing:"ease-in",from:{opacity:0},to:{opacity:.9}})))},onTapDoneButton:function(){Common.Gateway.goBack()},onTapEditModeButton:function(){Ext.Viewport.mask(),Common.Gateway.requestEditRights()},onTapReaderButton:function(){this.setReadableMode(!this.getReadableMode())},onTapSearchButton:function(e){this.setSearchMode(!this.getSearchMode())},onTapFullscreenButton:function(e){this.setFullscreenMode(!this.getFullscreenMode())},onTapShareButton:function(){this.api&&this.api.asc_Print(),Common.component.Analytics.trackEvent("ToolBar View","Share")},onSingleTapDocument:function(){var e=this.getViewToolbar();e&&this.getFullscreenMode()&&this.setHiddenToolbars(!e.isHidden())},onCoAuthoringDisconnect:function(){var e=this.getEditModeButton();e&&e.setHidden(!0)},onTapIncFontSizeButton:function(){this.api&&this.api.IncreaseReaderFontSize()},onTapDecFontSizeButton:function(){this.api&&this.api.DecreaseReaderFontSize()},requestEditFailedTitleText:"Access denied",requestEditFailedMessageText:"You can't edit the document right now. Please try again later."}),Ext.define("DE.profile.Phone",{extend:"Ext.app.Profile",config:{name:"phone",namespace:"phone",controllers:["Main","DE.controller.Document","DE.controller.Search","DE.controller.toolbar.Edit","DE.controller.toolbar.View"],views:["Main"]},isActive:function(){return Ext.os.is.Phone&&(Ext.os.is.iOS||Ext.os.is.Android)},launch:function(){Ext.widget("dephonemain")}}),Ext.define("DE.profile.Tablet",{extend:"Ext.app.Profile",config:{name:"tablet",namespace:"tablet",controllers:["Main","Common.controller.PopClip","DE.controller.Document","DE.controller.Search","DE.controller.tablet.panel.Font","DE.controller.tablet.panel.FontStyle","DE.controller.tablet.panel.Insert","DE.controller.tablet.panel.Style","DE.controller.tablet.panel.ParagraphAlignment","DE.controller.tablet.panel.Spacing","DE.controller.tablet.panel.TextColor","DE.controller.toolbar.Edit","DE.controller.toolbar.View"],views:["Main"],models:["Common.model.SettingItem"],stores:["Common.store.SettingsList"]},isActive:function(){return Ext.browser.is.WebKit&&(Ext.os.is.Tablet&&(Ext.os.is.iOS||Ext.os.is.Android)||Ext.os.is.Desktop)},launch:function(){Ext.widget("detabletmain")}});if(Common===undefined)var Common={};Common.Locale=new function(){var l10n={},_createXMLHTTPObject=function(){var e;try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(n){e=!1}}return!e&&typeof XMLHttpRequest!="undefined"&&(e=new XMLHttpRequest),e},_applyLocalization=function(){try{for(var e in l10n){var t=e.split(".");if(t&&t.length>2){var n=window;for(var r=0;r<t.length-1;++r){n=n[t[r]];if(n==undefined)break}n&&(n.prototype[t[t.length-1]]=l10n[e])}}}catch(i){}};try{var urlParams=Ext.urlDecode(location.search.substring(1)),xhrObj=_createXMLHTTPObject();if(xhrObj&&urlParams&&urlParams.lang){var lang=urlParams.lang.split("-")[0];xhrObj.open("GET","locale/"+lang+".json",!1),xhrObj.send(""),l10n=eval("("+xhrObj.responseText+")"),_applyLocalization()}}catch(e){}return{apply:_applyLocalization}},Ext.application({name:"DE",icon:"resources/img/icon.png",tabletStartupScreen:"resources/img/tablet_startup.png",phoneStartupScreen:"resources/img/phone_startup.png",viewport:{autoMaximize:!1},profiles:["Tablet","Phone"]});